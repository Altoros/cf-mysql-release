---
name: quota-enforcer

templates:
  quota-enforcer_ctl.erb: bin/quota-enforcer_ctl
  quota_enforcer_config.yml.erb: config/quota_enforcer_config.yml
  quota_enforcer_setup.sql.erb: config/quota_enforcer_setup.sql

consumes:
- name: mysql
  type: mysql
  optional: true

packages:
- quota-enforcer

properties:
  cf_mysql.broker.disable_quota_enforcer:
    description: 'Disable the Quota Enforcer process'
    default: false

  cf_mysql.broker.quota_enforcer.password:
    description: 'The password for the quota-enforcer user'
  cf_mysql.broker.quota_enforcer.ignored_users:
    description: 'Array of users that the quota enforcer will not enforce quotas on'
    default: []
  cf_mysql.broker.quota_enforcer.pause:
    description: 'In seconds, the interval that the Quota Enforcer pauses between checks for violators and reformers'
    default: 1

  cf_mysql.host:
    description: 'Host (DNS) or IP address used by the broker and bound applications to reach the service'
